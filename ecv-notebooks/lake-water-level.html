
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Tutorial: Data Access and Visualisation of Lake Water Level (LWL) timeseries &#8212; C3S Training</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'ecv-notebooks/lake-water-level';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Visualisation of Lake Surface Water Temperature (LSWT) data for a given lake" href="lake-surface-water-temperature.html" />
    <link rel="prev" title="C3S Soil Moisture Data Access and Anomaly Analysis Notebook" href="soil-moisture-anomalies.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/C3S–POS–LINE.png" class="logo__image only-light" alt="C3S Training - Home"/>
    <script>document.write(`<img src="../_static/C3S–POS–LINE.png" class="logo__image only-dark" alt="C3S Training - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Copernicus Climate Change Service (C3S) Data Tutorials
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Climate Data Store (CDS)</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../cds-tutorial.html">CDS tutorial</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Reanalysis Tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../reanalysis-climatology.html">Climatology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reanalysis-heatwave.html">Heatwave Analysis</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials on Climate Projections</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../projections-cmip6.html">Climate Projections (CMIP6)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../projections-cordex.html">Climate Projections (CORDEX)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials on Seasonal Forecasts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../sf-anomalies.html">Seasonal Forecast Anomalies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sf-verification.html">Seasonal Forecast Verification</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials on Climate Indices</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ci-windchill.html">Windchill Index Calculation</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials using Satellite Observations</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="erb-outgoing-longwave-radiation.html">Outgoing Longwave Radiation</a></li>
<li class="toctree-l1"><a class="reference internal" href="erb-clara-climatology.html">Analysis of the CLARA Earth radiation budget product</a></li>
<li class="toctree-l1"><a class="reference internal" href="erb-ceres-climatology.html">Analysis of the CERES Earth radiation budget product</a></li>
<li class="toctree-l1"><a class="reference internal" href="total-solar-irradiance.html">Total Solar Irradiance</a></li>
<li class="toctree-l1"><a class="reference internal" href="srb-climatology-and-anomaly.html">Surface radiation budget climatologies and anomalies</a></li>
<li class="toctree-l1"><a class="reference internal" href="total-column-water-vapour-combi.html">Exploring Total Column Water Vapour information in the COMBI dataset</a></li>

<li class="toctree-l1"><a class="reference internal" href="tropospheric-humidity-from-radio-occultation.html">Tropospheric humidity estimates from satellite-based radio occultation measurements</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud-cover-climatology.html">Cloud fractional cover climatology</a></li>
<li class="toctree-l1"><a class="reference internal" href="greenhouse-gases-level2-products.html">Greenhouse Gas Level 2 Products</a></li>
<li class="toctree-l1"><a class="reference internal" href="greenhouse-gases-level3-products.html">How to access, read and use satellite XCO2 and XCH4 Level 3 data products</a></li>


<li class="toctree-l1"><a class="reference internal" href="aerosol-single-sensor-demonstrator.html">Exploring gridded data on Aerosol properties available on C3S</a></li>
<li class="toctree-l1"><a class="reference internal" href="aerosol-multi-sensor-record.html">Visualising a full Climate Data Record of multi-sensor Aerosol data</a></li>


<li class="toctree-l1"><a class="reference internal" href="total-ozone-columns.html">Exploring an ozone product available through the Climate Data Store (CDS)</a></li>
<li class="toctree-l1"><a class="reference internal" href="soil-moisture-anomalies.html"><strong>C3S Soil Moisture Data Access and Anomaly Analysis Notebook</strong></a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">Tutorial: Data Access and  Visualisation of Lake Water Level (LWL) timeseries</a></li>




<li class="toctree-l1"><a class="reference internal" href="lake-surface-water-temperature.html">Visualisation of Lake Surface Water Temperature (LSWT) data for a given lake</a></li>




<li class="toctree-l1"><a class="reference internal" href="viewer-for-sealevel-product.html">Looking at Sea Level data during an El Niño episode</a></li>
<li class="toctree-l1"><a class="reference internal" href="ice-sheet-surface-elevation.html">Ice sheet surface elevation change rates</a></li>
<li class="toctree-l1"><a class="reference internal" href="ice-sheet-velocity.html">Access and visualisation of the Greenland Ice Sheet velocity data</a></li>
<li class="toctree-l1"><a class="reference internal" href="ice-sheet-mass-balance.html">Exploring Ice sheet Gravimetric Mass Balance data, available through the C3S Climate Data Store</a></li>

<li class="toctree-l1"><a class="reference internal" href="glacier-area.html">Explore glacier area</a></li>
<li class="toctree-l1"><a class="reference internal" href="glacier-mass-change.html">Glacier mass change</a></li>
<li class="toctree-l1"><a class="reference internal" href="mean-with-inverse-variance-weights.html">Computing the time average of LAI and fAPAR using inverse variance weights</a></li>

<li class="toctree-l1"><a class="reference internal" href="precipitation-giraffe.html">Exploring Precipitation information in the GIRAFE dataset</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Turorials using Copernicus Emergency Management Service data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../cems-notebooks/visualising-fwi-for-esotc.html">Visualising fire weather index (FWI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cems-notebooks/glofas-bangladesh-floods.html">Observing major flood events</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Tutorials on Bias Correction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://ibicus.readthedocs.io/en/latest/getting_started/overview.html">Python library (ibicus) and tutorials on bias correction</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Atmosphere Monitoring Tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference external" href="https://ecmwf-projects.github.io/copernicus-training-cams/">Tutorials from the Copernicus Atmosphere Monitoring Service (CAMS)</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/ecmwf-projects/copernicus-training-c3s-review/review?urlpath=tree/ecv-notebooks/lake-water-level.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/ecmwf-projects/copernicus-training-c3s-review" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/ecmwf-projects/copernicus-training-c3s-review/issues/new?title=Issue%20on%20page%20%2Fecv-notebooks/lake-water-level.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/ecv-notebooks/lake-water-level.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Tutorial: Data Access and  Visualisation of Lake Water Level (LWL) timeseries</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Tutorial: Data Access and  Visualisation of Lake Water Level (LWL) timeseries</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">Import libraries</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lake-selection">Lake selection</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-and-decompress-data">1. Download and decompress data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-lake-location">2. Visualise lake location</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-lake-water-level-time-series">3. Visualise lake water level time series</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-lake-water-level-yearly-anomalies">4. Visualise lake water level yearly anomalies</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="tutorial-data-access-and-visualisation-of-lake-water-level-lwl-timeseries">
<h1>Tutorial: Data Access and  Visualisation of Lake Water Level (LWL) timeseries<a class="headerlink" href="#tutorial-data-access-and-visualisation-of-lake-water-level-lwl-timeseries" title="Link to this heading">#</a></h1>
<p>The Copernicus Climate Change Service (C3S) is a European program with the objective of providing information on the current and past state of the climate. All this information is freely available after registration through the Climate Data Store (CDS) (<a class="reference external" href="https://cds.climate.copernicus.eu">https://cds.climate.copernicus.eu</a>).</p>
<p>One of the datasets available from CDS provides lake water level information derived from satellite radar altimetry for selected lakes all around the world. This technique, originally conceived to study open ocean processes, have acquired numerous useful measurements over lakes. The Lake Water Level is defined as the height, in meters above the geoid (the shape that the surface would take under the influence of the gravity and rotation of Earth) of the reflecting surface. For each of the key lakes monitored within the C3S Lakes production system, the Level-3 Water Level is provided in separate file along with the corresponding uncertainty.</p>
<p>One of the characteristics of the lake water level product is its irregular time step. A water level is estimated each time the lake is observed by a mission/track and, depending on the size and location of the lake, it may be monitored by multiple missions/tracks, with different repetitivities. An overview of the product characteristics is provided in the Product User Specification Guide (PUGS).</p>
<p><b>Objective:</b></p>
<p>The objective of this tutorial is to explain how to access the water level data for a specified lake and how to visualise its timeseries.</p>
<p>It is written in python and depends on the follow python libraries:</p>
<ul class="simple">
<li><p>cartopy</p></li>
<li><p>cdsapi</p></li>
<li><p>h5netcdf</p></li>
<li><p>ipympl</p></li>
<li><p>matplotlib</p></li>
<li><p>netcdf4</p></li>
<li><p>numpy</p></li>
<li><p>xarray</p></li>
</ul>
<p><u>How to run this code in trough Binder:</u></p>
<p>To run this tutorial via Binder (<a class="reference external" href="https://mybinder.org/">https://mybinder.org/</a>), the jupyter notebook file must be included in a GitHub repository. The list of the packages that should be installed to run the code (list of python libraries indicated above) must be included in a configuration file : ‘requirements.txt’. This file must also be available in the GitHub repository. Further information on Binder’s configuration files is available at the following address: <a class="reference external" href="https://mybinder.readthedocs.io/en/latest/using/config_files.html">https://mybinder.readthedocs.io/en/latest/using/config_files.html</a></p>
<p><font color='red'>Before continuing with this tutorial, please verify that the C3S API is installed. All the information about this api is available at: </font></p>
<p><a class="reference external" href="https://cds.climate.copernicus.eu/api-how-to#install-the-cds-api-key">https://cds.climate.copernicus.eu/api-how-to#install-the-cds-api-key</a></p>
<p>If the access to the api is not configured, you need to run the following code. It generates the ‘.cdsapi’ file containing two variables : <b>URL</b> and <b>KEY</b>. Please find <a class="reference external" href="https://cds.climate.copernicus.eu/api-how-to">here</a> your personal CDS key.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">bash</span>

echo &quot;url: https://cds.climate.copernicus.eu/api/v2
key: ########################################&quot; &gt;&gt; .cdsapi
</pre></div>
</div>
</div>
</div>
<p>The tutorial consists of four main steps:</p>
<ol class="arabic simple">
<li><p>Download and decompress data</p></li>
<li><p>Visualise the location of the lake in a map</p></li>
<li><p>Visualise and save water level timeseries</p></li>
<li><p>Visualise and save the yearly water level anomalies</p></li>
</ol>
<section id="import-libraries">
<h2>Import libraries<a class="headerlink" href="#import-libraries" title="Link to this heading">#</a></h2>
<p>The lake water level data is downloaded in a zip file containing a NetCDF file. Some libraries are needed to download data from the CDS, but also to manage zip files (zipfile library) and NetCDF files (xarray library). Other libraries are used to plot and visualise the data (matplotlib and cartopy libraries).</p>
<p>Additional libraries: os and glob are used for file management</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cdsapi</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">zipfile</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">cartopy</span> <span class="kn">import</span> <span class="n">crs</span><span class="p">,</span> <span class="n">feature</span>
</pre></div>
</div>
</div>
</div>
<p>Current version of the Lake Water Level dataset in CDS (v4.0) contains timeseries from 229 lakes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">available_lakes</span> <span class="o">=</span>  <span class="p">[</span>
            <span class="s1">&#39;achit&#39;</span><span class="p">,</span> <span class="s1">&#39;alakol&#39;</span><span class="p">,</span> <span class="s1">&#39;albert&#39;</span><span class="p">,</span>
            <span class="s1">&#39;amadjuak&#39;</span><span class="p">,</span> <span class="s1">&#39;american_falls&#39;</span><span class="p">,</span> <span class="s1">&#39;aqqikol_hu&#39;</span><span class="p">,</span>
            <span class="s1">&#39;argentino&#39;</span><span class="p">,</span> <span class="s1">&#39;athabasca&#39;</span><span class="p">,</span> <span class="s1">&#39;ayakkum&#39;</span><span class="p">,</span>
            <span class="s1">&#39;aydarkul&#39;</span><span class="p">,</span> <span class="s1">&#39;aylmer&#39;</span><span class="p">,</span> <span class="s1">&#39;azhibeksorkoli&#39;</span><span class="p">,</span>
            <span class="s1">&#39;bagre&#39;</span><span class="p">,</span> <span class="s1">&#39;baikal&#39;</span><span class="p">,</span> <span class="s1">&#39;bairab&#39;</span><span class="p">,</span>
            <span class="s1">&#39;baker&#39;</span><span class="p">,</span> <span class="s1">&#39;balbina&#39;</span><span class="p">,</span> <span class="s1">&#39;balkhash&#39;</span><span class="p">,</span>
            <span class="s1">&#39;bangweulu&#39;</span><span class="p">,</span> <span class="s1">&#39;bankim&#39;</span><span class="p">,</span> <span class="s1">&#39;baunt&#39;</span><span class="p">,</span>
            <span class="s1">&#39;beas&#39;</span><span class="p">,</span> <span class="s1">&#39;beysehir&#39;</span><span class="p">,</span> <span class="s1">&#39;bienville&#39;</span><span class="p">,</span>
            <span class="s1">&#39;big_trout&#39;</span><span class="p">,</span> <span class="s1">&#39;birch&#39;</span><span class="p">,</span> <span class="s1">&#39;biylikol&#39;</span><span class="p">,</span>
            <span class="s1">&#39;bluenose&#39;</span><span class="p">,</span> <span class="s1">&#39;bodensee&#39;</span><span class="p">,</span> <span class="s1">&#39;bogoria&#39;</span><span class="p">,</span>
            <span class="s1">&#39;bosten&#39;</span><span class="p">,</span> <span class="s1">&#39;bratskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;bugunskoye&#39;</span><span class="p">,</span>
            <span class="s1">&#39;cahora_bassa&#39;</span><span class="p">,</span> <span class="s1">&#39;caribou&#39;</span><span class="p">,</span> <span class="s1">&#39;caspian&#39;</span><span class="p">,</span>
            <span class="s1">&#39;cayuga&#39;</span><span class="p">,</span> <span class="s1">&#39;cedar&#39;</span><span class="p">,</span> <span class="s1">&#39;cerros_colorados&#39;</span><span class="p">,</span>
            <span class="s1">&#39;chagbo_co&#39;</span><span class="p">,</span> <span class="s1">&#39;chapala&#39;</span><span class="p">,</span> <span class="s1">&#39;chardarya&#39;</span><span class="p">,</span>
            <span class="s1">&#39;chatyrkol&#39;</span><span class="p">,</span> <span class="s1">&#39;chishi&#39;</span><span class="p">,</span> <span class="s1">&#39;chlya&#39;</span><span class="p">,</span>
            <span class="s1">&#39;chocon&#39;</span><span class="p">,</span> <span class="s1">&#39;chukochye&#39;</span><span class="p">,</span> <span class="s1">&#39;cienagachilloa&#39;</span><span class="p">,</span>
            <span class="s1">&#39;claire&#39;</span><span class="p">,</span> <span class="s1">&#39;cochrane&#39;</span><span class="p">,</span> <span class="s1">&#39;corangamite&#39;</span><span class="p">,</span>
            <span class="s1">&#39;cuodarima&#39;</span><span class="p">,</span> <span class="s1">&#39;dagze_co&#39;</span><span class="p">,</span> <span class="s1">&#39;dalai&#39;</span><span class="p">,</span>
            <span class="s1">&#39;danau_towuti&#39;</span><span class="p">,</span> <span class="s1">&#39;danausingkarak&#39;</span><span class="p">,</span> <span class="s1">&#39;dangqiong&#39;</span><span class="p">,</span>
            <span class="s1">&#39;des_bois&#39;</span><span class="p">,</span> <span class="s1">&#39;dogaicoring_q&#39;</span><span class="p">,</span> <span class="s1">&#39;dorgon&#39;</span><span class="p">,</span>
            <span class="s1">&#39;dorsoidong_co&#39;</span><span class="p">,</span> <span class="s1">&#39;dubawnt&#39;</span><span class="p">,</span> <span class="s1">&#39;edouard&#39;</span><span class="p">,</span>
            <span class="s1">&#39;egridir&#39;</span><span class="p">,</span> <span class="s1">&#39;erie&#39;</span><span class="p">,</span> <span class="s1">&#39;faber&#39;</span><span class="p">,</span>
            <span class="s1">&#39;fitri&#39;</span><span class="p">,</span> <span class="s1">&#39;fontana&#39;</span><span class="p">,</span> <span class="s1">&#39;fort_peck&#39;</span><span class="p">,</span>
            <span class="s1">&#39;garkung&#39;</span><span class="p">,</span> <span class="s1">&#39;george&#39;</span><span class="p">,</span> <span class="s1">&#39;gods&#39;</span><span class="p">,</span>
            <span class="s1">&#39;grande_trois&#39;</span><span class="p">,</span> <span class="s1">&#39;greatslave&#39;</span><span class="p">,</span> <span class="s1">&#39;guri&#39;</span><span class="p">,</span>
            <span class="s1">&#39;gyaring_co&#39;</span><span class="p">,</span> <span class="s1">&#39;gyeze_caka&#39;</span><span class="p">,</span> <span class="s1">&#39;habbaniyah&#39;</span><span class="p">,</span>
            <span class="s1">&#39;hala&#39;</span><span class="p">,</span> <span class="s1">&#39;hamrin&#39;</span><span class="p">,</span> <span class="s1">&#39;har&#39;</span><span class="p">,</span>
            <span class="s1">&#39;hawizeh_marshes&#39;</span><span class="p">,</span> <span class="s1">&#39;heishi_beihu&#39;</span><span class="p">,</span> <span class="s1">&#39;hendrik_verwoerd&#39;</span><span class="p">,</span>
            <span class="s1">&#39;hinojo&#39;</span><span class="p">,</span> <span class="s1">&#39;hoh_xil_hu&#39;</span><span class="p">,</span> <span class="s1">&#39;hongze&#39;</span><span class="p">,</span>
            <span class="s1">&#39;hottah&#39;</span><span class="p">,</span> <span class="s1">&#39;hovsgol&#39;</span><span class="p">,</span> <span class="s1">&#39;hulun&#39;</span><span class="p">,</span>
            <span class="s1">&#39;huron&#39;</span><span class="p">,</span> <span class="s1">&#39;hyargas&#39;</span><span class="p">,</span> <span class="s1">&#39;iliamna&#39;</span><span class="p">,</span>
            <span class="s1">&#39;illmen&#39;</span><span class="p">,</span> <span class="s1">&#39;inarinjarvi&#39;</span><span class="p">,</span> <span class="s1">&#39;issykkul&#39;</span><span class="p">,</span>
            <span class="s1">&#39;iznik&#39;</span><span class="p">,</span> <span class="s1">&#39;jayakwadi&#39;</span><span class="p">,</span> <span class="s1">&#39;kabele&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kabwe&#39;</span><span class="p">,</span> <span class="s1">&#39;kainji&#39;</span><span class="p">,</span> <span class="s1">&#39;kairakum&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kamilukuak&#39;</span><span class="p">,</span> <span class="s1">&#39;kamyshlybas&#39;</span><span class="p">,</span> <span class="s1">&#39;kapchagayskoye&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kara_bogaz_gol&#39;</span><span class="p">,</span> <span class="s1">&#39;karasor&#39;</span><span class="p">,</span> <span class="s1">&#39;kariba&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kasba&#39;</span><span class="p">,</span> <span class="s1">&#39;khanka&#39;</span><span class="p">,</span> <span class="s1">&#39;kinkony&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kisale&#39;</span><span class="p">,</span> <span class="s1">&#39;kivu&#39;</span><span class="p">,</span> <span class="s1">&#39;kokonor&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kossou&#39;</span><span class="p">,</span> <span class="s1">&#39;krasnoyarskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;kremenchutska&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kubenskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;kulundinskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;kumskoye&#39;</span><span class="p">,</span>
            <span class="s1">&#39;kuybyshevskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;kyoga&#39;</span><span class="p">,</span> <span class="s1">&#39;ladoga&#39;</span><span class="p">,</span>
            <span class="s1">&#39;lagdo&#39;</span><span class="p">,</span> <span class="s1">&#39;lagoa_dos_patos&#39;</span><span class="p">,</span> <span class="s1">&#39;langa_co&#39;</span><span class="p">,</span>
            <span class="s1">&#39;langano&#39;</span><span class="p">,</span> <span class="s1">&#39;lano&#39;</span><span class="p">,</span> <span class="s1">&#39;leman&#39;</span><span class="p">,</span>
            <span class="s1">&#39;lixiodain_co&#39;</span><span class="p">,</span> <span class="s1">&#39;lumajangdong_co&#39;</span><span class="p">,</span> <span class="s1">&#39;luotuo&#39;</span><span class="p">,</span>
            <span class="s1">&#39;mai_ndombe&#39;</span><span class="p">,</span> <span class="s1">&#39;malawi&#39;</span><span class="p">,</span> <span class="s1">&#39;mangbeto&#39;</span><span class="p">,</span>
            <span class="s1">&#39;manitoba&#39;</span><span class="p">,</span> <span class="s1">&#39;memar&#39;</span><span class="p">,</span> <span class="s1">&#39;michigan&#39;</span><span class="p">,</span>
            <span class="s1">&#39;migriggyangzham&#39;</span><span class="p">,</span> <span class="s1">&#39;mingacevir&#39;</span><span class="p">,</span> <span class="s1">&#39;mono&#39;</span><span class="p">,</span>
            <span class="s1">&#39;mossoul&#39;</span><span class="p">,</span> <span class="s1">&#39;mullet&#39;</span><span class="p">,</span> <span class="s1">&#39;mweru&#39;</span><span class="p">,</span>
            <span class="s1">&#39;naivasha&#39;</span><span class="p">,</span> <span class="s1">&#39;namco&#39;</span><span class="p">,</span> <span class="s1">&#39;namngum&#39;</span><span class="p">,</span>
            <span class="s1">&#39;nasser&#39;</span><span class="p">,</span> <span class="s1">&#39;nezahualcoyoti&#39;</span><span class="p">,</span> <span class="s1">&#39;ngangze&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ngoring_co&#39;</span><span class="p">,</span> <span class="s1">&#39;nicaragua&#39;</span><span class="p">,</span> <span class="s1">&#39;nipissing&#39;</span><span class="p">,</span>
            <span class="s1">&#39;novosibirskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;nueltin&#39;</span><span class="p">,</span> <span class="s1">&#39;oahe&#39;</span><span class="p">,</span>
            <span class="s1">&#39;old_wives&#39;</span><span class="p">,</span> <span class="s1">&#39;onega&#39;</span><span class="p">,</span> <span class="s1">&#39;ontario&#39;</span><span class="p">,</span>
            <span class="s1">&#39;opinac&#39;</span><span class="p">,</span> <span class="s1">&#39;peipus&#39;</span><span class="p">,</span> <span class="s1">&#39;prespa&#39;</span><span class="p">,</span>
            <span class="s1">&#39;pukaki&#39;</span><span class="p">,</span> <span class="s1">&#39;pyaozero&#39;</span><span class="p">,</span> <span class="s1">&#39;ranco&#39;</span><span class="p">,</span>
            <span class="s1">&#39;roseires&#39;</span><span class="p">,</span> <span class="s1">&#39;rukwa&#39;</span><span class="p">,</span> <span class="s1">&#39;rybinskoye&#39;</span><span class="p">,</span>
            <span class="s1">&#39;saint_jean&#39;</span><span class="p">,</span> <span class="s1">&#39;sakakawea&#39;</span><span class="p">,</span> <span class="s1">&#39;saksak&#39;</span><span class="p">,</span>
            <span class="s1">&#39;san_martin&#39;</span><span class="p">,</span> <span class="s1">&#39;saratovskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;sarykamish&#39;</span><span class="p">,</span>
            <span class="s1">&#39;sasykkol&#39;</span><span class="p">,</span> <span class="s1">&#39;saysan&#39;</span><span class="p">,</span> <span class="s1">&#39;segozerskoye&#39;</span><span class="p">,</span>
            <span class="s1">&#39;serbug&#39;</span><span class="p">,</span> <span class="s1">&#39;sevan&#39;</span><span class="p">,</span> <span class="s1">&#39;shiroro&#39;</span><span class="p">,</span>
            <span class="s1">&#39;sobradino&#39;</span><span class="p">,</span> <span class="s1">&#39;soungari&#39;</span><span class="p">,</span> <span class="s1">&#39;srisailam&#39;</span><span class="p">,</span>
            <span class="s1">&#39;superior&#39;</span><span class="p">,</span> <span class="s1">&#39;swan&#39;</span><span class="p">,</span> <span class="s1">&#39;tana&#39;</span><span class="p">,</span>
            <span class="s1">&#39;tanganika&#39;</span><span class="p">,</span> <span class="s1">&#39;tangra_yumco&#39;</span><span class="p">,</span> <span class="s1">&#39;tchad&#39;</span><span class="p">,</span>
            <span class="s1">&#39;tchany&#39;</span><span class="p">,</span> <span class="s1">&#39;telashi&#39;</span><span class="p">,</span> <span class="s1">&#39;teletskoye&#39;</span><span class="p">,</span>
            <span class="s1">&#39;telmen&#39;</span><span class="p">,</span> <span class="s1">&#39;tengiz&#39;</span><span class="p">,</span> <span class="s1">&#39;tharthar&#39;</span><span class="p">,</span>
            <span class="s1">&#39;titicaca&#39;</span><span class="p">,</span> <span class="s1">&#39;todos_los_santos&#39;</span><span class="p">,</span> <span class="s1">&#39;toktogul&#39;</span><span class="p">,</span>
            <span class="s1">&#39;tonle_sap&#39;</span><span class="p">,</span> <span class="s1">&#39;tres_marias&#39;</span><span class="p">,</span> <span class="s1">&#39;tsimlyanskoye&#39;</span><span class="p">,</span>
            <span class="s1">&#39;tumba&#39;</span><span class="p">,</span> <span class="s1">&#39;turkana&#39;</span><span class="p">,</span> <span class="s1">&#39;ulan_ul&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ulungur&#39;</span><span class="p">,</span> <span class="s1">&#39;umbozero&#39;</span><span class="p">,</span> <span class="s1">&#39;uvs&#39;</span><span class="p">,</span>
            <span class="s1">&#39;valencia&#39;</span><span class="p">,</span> <span class="s1">&#39;van&#39;</span><span class="p">,</span> <span class="s1">&#39;vanajanselka&#39;</span><span class="p">,</span>
            <span class="s1">&#39;vanerm&#39;</span><span class="p">,</span> <span class="s1">&#39;vattern&#39;</span><span class="p">,</span> <span class="s1">&#39;victoria&#39;</span><span class="p">,</span>
            <span class="s1">&#39;viedma&#39;</span><span class="p">,</span> <span class="s1">&#39;volta&#39;</span><span class="p">,</span> <span class="s1">&#39;walker&#39;</span><span class="p">,</span>
            <span class="s1">&#39;williston&#39;</span><span class="p">,</span> <span class="s1">&#39;winnipeg&#39;</span><span class="p">,</span> <span class="s1">&#39;winnipegosis&#39;</span><span class="p">,</span>
            <span class="s1">&#39;xiangyang&#39;</span><span class="p">,</span> <span class="s1">&#39;yamzho_yumco&#39;</span><span class="p">,</span> <span class="s1">&#39;yellowstone&#39;</span><span class="p">,</span>
            <span class="s1">&#39;zeyskoye&#39;</span><span class="p">,</span> <span class="s1">&#39;zhari_namco&#39;</span><span class="p">,</span> <span class="s1">&#39;zhelin&#39;</span><span class="p">,</span>
            <span class="s1">&#39;ziling&#39;</span><span class="p">,</span> <span class="s1">&#39;zimbambo&#39;</span><span class="p">,</span> <span class="s1">&#39;ziway&#39;</span><span class="p">,</span>
            <span class="s1">&#39;zonag&#39;</span><span class="p">,</span>
        <span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="lake-selection">
<h1>Lake selection<a class="headerlink" href="#lake-selection" title="Link to this heading">#</a></h1>
<p>To download and visualise the timeseries, two inputs are required:</p>
<ul class="simple">
<li><p>The name of the lake (lake_name). The name of the lake must exist in the list of available lakes.</p></li>
<li><p>The name of the output directory (output_dir) where the different files will be saved.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># the name of the lake</span>
<span class="n">lake_name</span> <span class="o">=</span> <span class="s1">&#39;Zhari-Namco&#39;</span>

<span class="c1"># the output directory name </span>
<span class="n">output_dir</span> <span class="o">=</span> <span class="s1">&#39;output&#39;</span>
</pre></div>
</div>
</div>
</div>
<p>A test is performed to verify that the water level of the selected lake is available.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">lake_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">available_lakes</span> <span class="p">:</span>
    <span class="nb">print</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;The lake &quot;</span><span class="si">{</span><span class="n">lake_name</span><span class="si">}</span><span class="s1">&quot; is not still available&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>The output directory must exist. If this is not the case, it will be created.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">mkdirs</span><span class="p">(</span><span class="n">output_dir</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="download-and-decompress-data">
<h2>1. Download and decompress data<a class="headerlink" href="#download-and-decompress-data" title="Link to this heading">#</a></h2>
<p>Using the CDS api, this function retrieves the data for the specified lake into the defined output directory. The downloaded file is compressed (zip format) containing the data file in NetCDF format. To read the lake water level data, the file is extracted in the output directory.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">c</span> <span class="o">=</span> <span class="n">cdsapi</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>

<span class="n">list_regions</span> <span class="o">=</span> <span class="p">[</span> <span class="s1">&#39;northern_africa&#39;</span><span class="p">,</span> <span class="s1">&#39;northern_north_america&#39;</span><span class="p">,</span> <span class="s1">&#39;southeastern_asia&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;southern_africa&#39;</span><span class="p">,</span> <span class="s1">&#39;southern_america&#39;</span><span class="p">,</span> <span class="s1">&#39;southern_north_america&#39;</span><span class="p">,</span>
                 <span class="s1">&#39;southwestern_asia&#39;</span><span class="p">]</span>

<span class="n">c</span><span class="o">.</span><span class="n">retrieve</span><span class="p">(</span>
    <span class="s1">&#39;satellite-lake-water-level&#39;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s1">&#39;variable&#39;</span><span class="p">:</span> <span class="s1">&#39;all&#39;</span><span class="p">,</span>
        <span class="s1">&#39;region&#39;</span><span class="p">:</span> <span class="n">list_regions</span><span class="p">,</span>
        <span class="s1">&#39;lake&#39;</span><span class="p">:</span> <span class="n">lake_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;_&#39;</span><span class="p">),</span>
        <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;version_4_0&#39;</span><span class="p">,</span>
        <span class="s1">&#39;format&#39;</span><span class="p">:</span> <span class="s1">&#39;zip&#39;</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">lake_name</span><span class="si">}</span><span class="s1">.zip&#39;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">zipfile</span><span class="o">.</span><span class="n">ZipFile</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">lake_name</span><span class="si">}</span><span class="s1">.zip&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">z</span><span class="p">:</span>
    <span class="n">z</span><span class="o">.</span><span class="n">extractall</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
    
<span class="c1"># recover the lake filename in netcdf format</span>
<span class="n">nc_file</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/*</span><span class="si">{</span><span class="n">lake_name</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">*.nc&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c1"># open the file with Xarray</span>
<span class="n">xr_lake</span> <span class="o">=</span> <span class="n">xr</span><span class="o">.</span><span class="n">open_dataset</span><span class="p">(</span><span class="n">nc_file</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2024-09-09 16:20:09,153 INFO Welcome to the CDS.
As per our announcements on the Forum, this instance of CDS will be decommissioned on 26 September 2024 and will no longer be accessible from this date onwards.
Please update your cdsapi package to a version &gt;=0.7.2, create an account on CDS-Beta and update your .cdsapirc file. We strongly recommend users to check our Guidelines at https://confluence.ecmwf.int/x/uINmFw
2024-09-09 16:20:09,155 WARNING MOVE TO CDS-Beta
2024-09-09 16:20:09,156 INFO Sending request to https://cds.climate.copernicus.eu/api/v2/resources/satellite-lake-water-level
2024-09-09 16:20:09,305 INFO Request is completed
2024-09-09 16:20:09,306 INFO Downloading https://download-0016.copernicus-climate.eu/cache-compute-0016/cache/data8/dataset-satellite-lake-water-level-e61df0a1-fce1-4816-8357-cb687bc9b202.zip to output/Zhari-Namco.zip (10K)
2024-09-09 16:20:09,527 INFO Download rate 45.5K/s
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualise-lake-location">
<h1>2. Visualise lake location<a class="headerlink" href="#visualise-lake-location" title="Link to this heading">#</a></h1>
<p>It is always useful to check the location of the lake on a map. Many of the world’s lakes have the same name but may be located in different countries, as in the case of Lake Victoria: the best known is in Uganda, but there is also a Lake Victoria in Canada (48.35N, 57.11W) and another in Australia (34.04S, 141.28E). Or the name of the lake may be different, depending on the language: Caribou Lake or Reindeer Lake refer to the same lake (Canada). In some cases, even with the same language, the name of the lake may differ from one country to another: Lake Buenos Aires in Argentina and Lake General Carrera in Chile.</p>
<p>A world map showing the location of the lake is displayed. To generate this figure, we use the cartopy library.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="n">projection</span> <span class="o">=</span> <span class="n">crs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>

<span class="n">ax</span><span class="o">.</span><span class="n">coastlines</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">add_feature</span><span class="p">(</span><span class="n">feature</span><span class="o">.</span><span class="n">BORDERS</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">stock_img</span><span class="p">()</span>

<span class="c1"># add lake location </span>
<span class="n">lat</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">xr_lake</span><span class="o">.</span><span class="n">lake_barycentre_latitude</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">if</span> <span class="s1">&#39;S&#39;</span> <span class="ow">in</span> <span class="n">xr_lake</span><span class="o">.</span><span class="n">lake_barycentre_latitude</span><span class="p">:</span>
    <span class="n">lat</span> <span class="o">=</span> <span class="o">-</span><span class="n">lat</span>
<span class="n">lon</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">xr_lake</span><span class="o">.</span><span class="n">lake_barycentre_longitude</span><span class="o">.</span><span class="n">split</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="k">if</span> <span class="s1">&#39;W&#39;</span> <span class="ow">in</span> <span class="n">xr_lake</span><span class="o">.</span><span class="n">lake_barycentre_longitude</span><span class="p">:</span>
    <span class="n">lon</span> <span class="o">=</span> <span class="o">-</span><span class="n">lon</span>
    
<span class="nb">print</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Lake location (lat, lon): </span><span class="si">{</span><span class="n">lat</span><span class="si">}</span><span class="s2">°, </span><span class="si">{</span><span class="n">lon</span><span class="si">}</span><span class="s2">°&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="n">lon</span><span class="p">],</span> <span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="n">lat</span><span class="p">],</span> <span class="n">s</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">transform</span> <span class="o">=</span> <span class="n">crs</span><span class="o">.</span><span class="n">PlateCarree</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Lake location (lat, lon): 30.9°, 85.6°
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.collections.PathCollection at 0x7266e2239a30&gt;
</pre></div>
</div>
<img alt="../_images/a986809c5ae855a70273e443caef8e9ecdc9bca8d26d3305bfa3cbac424c075b.png" src="../_images/a986809c5ae855a70273e443caef8e9ecdc9bca8d26d3305bfa3cbac424c075b.png" />
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualise-lake-water-level-time-series">
<h1>3. Visualise lake water level time series<a class="headerlink" href="#visualise-lake-water-level-time-series" title="Link to this heading">#</a></h1>
<p>Once the data has been extracted, it can be read and visualised. Data in NetCDF format is read using the Xarray library, and Matplotlib is used to display time series.</p>
<p>The figure with the timeseries will be saved in the output directory in png format:
[lake_name]_timeseries.png file.</p>
<p>The change in observation time step caused by changes in coverage by multiple missions can be seen in the figure. In recent years, Lake Baikal has been monitored by multiple missions and trajectories. As a result, the temporal resolution increases (the time between observations is reduced) and the time series is noisier due to the effect of the inter-mission and inter-tracks bias.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># plot and visualise the timeseries</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">xr_lake</span><span class="o">.</span><span class="n">water_surface_height_above_reference_datum</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Lake: </span><span class="si">{</span><span class="n">lake_name</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="c1"># save the figure</span>
<span class="n">png_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">lake_name</span><span class="si">}</span><span class="s1">_timeseries.png&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">png_file</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s2">&quot;tight&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d3aec4dc0e7f8d17cb3a6876cf18c4f480ce57585afa5d0a4846ed6d1d9e1967.png" src="../_images/d3aec4dc0e7f8d17cb3a6876cf18c4f480ce57585afa5d0a4846ed6d1d9e1967.png" />
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualise-lake-water-level-yearly-anomalies">
<h1>4. Visualise lake water level yearly anomalies<a class="headerlink" href="#visualise-lake-water-level-yearly-anomalies" title="Link to this heading">#</a></h1>
<p>Another way of analysing variations in water levels is to visualise anomalies in respect to average values over a reference period in form of a bar chart, using red and blue colours to easily identify the year when levels are higher or lower than the climatic normal.</p>
<p>The same code can be used for the visualisation of yearly anomalies compared to a particular year.</p>
<p>The reference period can be adapted for each lake. The temporal coverage is not the same for all the lakes in the CDS, with the first available date ranging from 1992, as is the case for Lake Baikal, to 2019 for lakes monitored exclusively by the Sentinel-3B mission. In this example for Lake Baikal, we have chosen a reference period consisting of the first 10 years of data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">first_reference_year</span> <span class="o">=</span> <span class="mi">1992</span>
<span class="n">last_reference_year</span>  <span class="o">=</span> <span class="mi">2002</span>
</pre></div>
</div>
</div>
</div>
<p>The yearly anomaly is calculated using the following steps: i. applying xarray’s groupby() function to group the data by year, and ii. calculating the mean value for each annual group. The average value of the water level in the selected lake is estimated as the average water level over the reference period.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">yearly_mean</span> <span class="o">=</span> <span class="n">xr_lake</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;time.year&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">keep_attrs</span> <span class="o">=</span> <span class="kc">True</span><span class="p">)</span>

<span class="n">ref</span> <span class="o">=</span> <span class="n">yearly_mean</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">yearly_mean</span><span class="o">.</span><span class="n">year</span> <span class="o">&gt;=</span> <span class="n">first_reference_year</span> <span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">yearly_mean</span><span class="o">.</span><span class="n">year</span> <span class="o">&lt;=</span> <span class="n">last_reference_year</span> <span class="p">))</span>
<span class="n">ref_lwl_mean</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">ref</span><span class="o">.</span><span class="n">water_surface_height_above_reference_datum</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>

<span class="nb">print</span> <span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Mean LWL value during the reference period: </span><span class="si">{</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">ref_lwl_mean</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="si">}</span><span class="s1"> (m)&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Mean LWL value during the reference period: 4610.444 (m)
</pre></div>
</div>
</div>
</div>
<p>The yearly anomaly is shown in red for the annual values above the average water level during the reference period and in blue for the annual values below.</p>
<p>The figure with the anomalies is saved in the output directory in png format :
[lake_name]_yearly-anomalies.png file.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">year_mean</span> <span class="o">=</span> <span class="n">yearly_mean</span><span class="o">.</span><span class="n">to_dataframe</span><span class="p">()</span>
<span class="n">year_mean</span><span class="p">[</span><span class="s1">&#39;lwl_yearly_anomaly&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">year_mean</span><span class="p">[</span><span class="s1">&#39;water_surface_height_above_reference_datum&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">ref_lwl_mean</span>
<span class="n">year_mean</span><span class="p">[</span><span class="s1">&#39;positive_anomaly&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">year_mean</span><span class="p">[</span><span class="s1">&#39;lwl_yearly_anomaly&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="n">year_mean</span><span class="p">[</span><span class="s1">&#39;lwl_yearly_anomaly&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> 
                                     <span class="n">color</span> <span class="o">=</span> <span class="n">year_mean</span><span class="o">.</span><span class="n">positive_anomaly</span><span class="o">.</span><span class="n">map</span> <span class="p">({</span><span class="kc">True</span><span class="p">:</span> <span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="kc">False</span><span class="p">:</span> <span class="s1">&#39;blue&#39;</span><span class="p">}),</span>
                                     <span class="n">xlabel</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Year&#39;</span><span class="p">,</span>
                                     <span class="n">ylabel</span> <span class="o">=</span> <span class="s1">&#39;Lake Water Level Anomaly (m)&#39;</span><span class="p">,</span>
                                     <span class="n">title</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;Yearly water level anomalies on Lake </span><span class="si">{</span><span class="n">lake_name</span><span class="o">.</span><span class="n">title</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;-&quot;</span><span class="p">)</span><span class="si">}</span><span class="se">\n</span><span class="s1"> reference period:  </span><span class="si">{</span><span class="n">first_reference_year</span><span class="si">}</span><span class="s1"> - </span><span class="si">{</span><span class="n">last_reference_year</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>

<span class="c1"># save the figure</span>
<span class="n">png_file</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">output_dir</span><span class="si">}</span><span class="s1">/</span><span class="si">{</span><span class="n">lake_name</span><span class="si">}</span><span class="s1">_yearly-anomalies.png&#39;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="n">png_file</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/47ddcbc4c68c2eeda68ad6d27730bd21062d52691eafb0bf5bee345c2ef7acac.png" src="../_images/47ddcbc4c68c2eeda68ad6d27730bd21062d52691eafb0bf5bee345c2ef7acac.png" />
</div>
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./ecv-notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="soil-moisture-anomalies.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><strong>C3S Soil Moisture Data Access and Anomaly Analysis Notebook</strong></p>
      </div>
    </a>
    <a class="right-next"
       href="lake-surface-water-temperature.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Visualisation of Lake Surface Water Temperature (LSWT) data for a given lake</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">Tutorial: Data Access and  Visualisation of Lake Water Level (LWL) timeseries</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-libraries">Import libraries</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#lake-selection">Lake selection</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#download-and-decompress-data">1. Download and decompress data</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-lake-location">2. Visualise lake location</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-lake-water-level-time-series">3. Visualise lake water level time series</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#visualise-lake-water-level-yearly-anomalies">4. Visualise lake water level yearly anomalies</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By the Copernicus Climate Change Service (C3S), entrusted to ECMWF (European Centre for Medium-Range Weather Forecasts)
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>